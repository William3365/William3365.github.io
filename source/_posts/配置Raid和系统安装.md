---
title: 配置Raid和系统安装
date: 2023-08-25 22:26:16
tags: 系统安装
---
# 核心思路
* 先配置raid，再按需分区，最后装系统
  ```
  * 先做raid准备好存储空间，然后按照需求进行分区和格式化，最后装系统
    理解：就像先把房间分配好了才能进一步装修、入住
  
  * 必须选择分区模式，必须进行格式化
  
  * 如果系统是安装在raid盘上就必须先配置raid，再安装系统。
    如果使用独立的系统盘，可以先安装系统，再配置raid（此时可以在系统下使用有GUI的raid管理程序已图形方式配置raid，但是影响效率，占内存），之后再使用系统磁盘管理分区、格式化。
  ```

# 分区模式和引导模式

## 分区表
* 磁盘分区模式有mbr格式，guid格式（gpt格式）
  
* mbr分区：硬盘主引导记录分区表，只支持容量在 2TB 以下的硬盘，支持win7版本系统以下的32位和64位
  
* guid分区：也叫gpt，全局唯一标识分区表，支持2T以上的硬盘分区，GPT可管理硬盘大小达到了18EB，支持64位系统，不支持32位系统

* 区别：，
  
  * mbr分区
    * < 2T,选择mbr分区表

    * 启动时，引导模式为 Legacy（bios）
  
    * 最多只能描述 4 个分区，其中一个为主分区，其他为扩展分区，
  
  * guid分区
    * 大于2T,选择guid分区表
  
    * 启动时，引导模式为 uefi
  
* 注意：
  * 对应的分区模式要选择对应的引导模式
  
  * 根据自己的raid需求，再bios中选择对应的引导模式

  * 大于2t只能选择guid引导，否则做raid没意义，读不到那么大的容量
  
    
  
* 如何判断硬盘格式是 guid 还是 mbr ？
  * windows
  ```
    '以管理员身份运行'cmd命令，输入'diskpart'命令
    输入'list disk'命令进行查看：如果'Gpt'中显示'*'，则为GPT格式，反之为MBR
    ![](https://s1.ax1x.com/2023/08/25/pPNFw40.png)
  ```

  * linux
  ```
    1、fdisk -l 命令，结果中的“Disk label type”的值为
         dos则分区是mbr，若该结果的值为gpt则分区是gpt；
    2、parted -l 命令，结果中的“Partition Table”的值为
         msdos则分区是mbr，若该结果的值为gpt则分区是gpt。
  ```


## 引导模式
* 在bios中配置，有Legacy（bios）和 uefi

* 区别
  * UEFI是新式的BIOS，BIOS则是传统legacy。最明显的却别在于启动速度，UEFI明显更快，因为它支持硬件加速和并行处理。
  * ![img](https://s1.ax1x.com/2023/08/30/pPd6L9S.png)

# windows server
* 核心：根据raid需求，选择合适的磁盘分区模式，合适的引导模式

* 流程
  * 配置raid
  * 配置引导模式，bios还是uefi
  * 配置磁盘的分区格式，格式化处理

## 注意事项
* 有的统文件里，不带有raid驱动程序，导致安装系统无法识别到raid的硬盘。需要去官网下载，手动加载 raid 卡驱动程序

* 找不到适用的引导分区
  * 分区工具修复、重新分区
  * 可能是系统找不到raid驱动，导致找不到磁盘，去官网找对应主板的驱动，装上。


# centos
* 核心：根据raid需求，选择合适的磁盘分区模式，合适的引导模式
  * linux默认mbr分区模式，所以配raid后，先改分区模式、配置分区，最后装系统 （否则易出现读不到盘，容量不对的情况）
    * 一般直接在 控制台，改成guid分区，uefi引导

* 流程
  * 配置raid
  * 配置引导模式
  * 配置磁盘的分区格式，格式化处理

## 重要概念
